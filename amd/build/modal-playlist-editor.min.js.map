{"version":3,"file":"modal-playlist-editor.min.js","sources":["../src/modal-playlist-editor.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * A set of functions to be added to charts tab load-tabs.js.\n * Most of these functions enable modal forms for the adding/deleting of charts or editing existing charts.\n *\n * @module     mod_clearlesson/modal-playlist-editor\n * @copyright  2024 Dan Watkins <dwatkins@charitylearning.org>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      2.9\n */\n\n// import ModalForm from 'core_form/modalform';\nimport {get_string as getString} from 'core/str';\n// import * as Utils from './utils';\n\nexport const init = async () => {\n    const browseResourcseString = await getString('browseresources', 'mod_clearlesson');\n    const playlistManagerString = await getString('customplaylistmanager', 'mod_clearlesson');\n    const typeSelect = document.getElementById('id_type');\n    typeSelect.addEventListener('change', (e) => {\n        const resourceBrowserButton = document.getElementById('resource-select-button');\n        if (e.target.value === 'customplaylist') {\n            resourceBrowserButton.innerHTML = playlistManagerString;\n        } else {\n            resourceBrowserButton.innerHTML = browseResourcseString;\n        }\n    });\n\n    document.addEventListener('click', function(e) {\n        if (e.target.id === 'resource-select-button' && typeSelect.value === 'customplaylist') {\n            e.preventDefault();\n            openPlaylistManager();\n        }\n\n        if (e.target.classList?.contains('playlist-edit')\n            || e.target.parentElement.classList?.contains('playlist-edit')) {\n            e.preventDefault();\n            openPlayListDetailsForm(e);\n        }\n    });\n};\n\n/**\n * Open the playlist manager modal.\n */\nfunction openPlaylistManager() {\n    console.log('openPlaylistManager');\n}\n\n/**\n * Open the playlist details modal.\n * @param {Event} e\n */\nfunction openPlayListDetailsForm(e) {\n    console.log('openPlayListDetailsForm');\n}"],"names":["async","browseResourcseString","playlistManagerString","typeSelect","document","getElementById","addEventListener","e","resourceBrowserButton","target","value","innerHTML","id","preventDefault","console","log","classList","contains","parentElement","_e$target$parentEleme"],"mappings":"0LA6BoBA,gBACVC,4BAA8B,mBAAU,kBAAmB,mBAC3DC,4BAA8B,mBAAU,wBAAyB,mBACjEC,WAAaC,SAASC,eAAe,WAC3CF,WAAWG,iBAAiB,UAAWC,UAC7BC,sBAAwBJ,SAASC,eAAe,0BAC/B,mBAAnBE,EAAEE,OAAOC,MACTF,sBAAsBG,UAAYT,sBAElCM,sBAAsBG,UAAYV,yBAI1CG,SAASE,iBAAiB,SAAS,SAASC,iDACpB,2BAAhBA,EAAEE,OAAOG,IAAwD,mBAArBT,WAAWO,QACvDH,EAAEM,iBAgBVC,QAAQC,IAAI,qDAZJR,EAAEE,OAAOO,8DAAWC,SAAS,gDAC1BV,EAAEE,OAAOS,cAAcF,4CAAvBG,sBAAkCF,SAAS,oBAC9CV,EAAEM,iBAkBVC,QAAQC,IAAI"}